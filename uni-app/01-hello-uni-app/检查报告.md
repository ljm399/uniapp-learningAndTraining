# 01-hello-uni-app é¡¹ç›®æ£€æŸ¥æŠ¥å‘Š

> æ£€æŸ¥æ—¶é—´: 2024 å¹´ 12 æœˆ 4 æ—¥  
> åŸé¡¹ç›®æ—¶é—´: 2022 å¹´  
> é¡¹ç›®ç±»å‹: uni-app åŸºç¡€é¡¹ç›®

---

## ğŸ“‹ æ£€æŸ¥æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ª uni-app çš„åŸºç¡€å…¥é—¨é¡¹ç›®ï¼Œä½¿ç”¨ Vue 3 å¼€å‘ã€‚

---

## âŒ ä¸¥é‡è¿‡æœŸå†…å®¹

### 1. ç¼–è¯‘å™¨é…ç½®å·²åºŸå¼ƒ

**æ–‡ä»¶**: `manifest.json` (ç¬¬ 8-47 è¡Œ)

**é—®é¢˜ä»£ç **:

```json
"app-plus": {
    "compilerVersion": 3,
    "nvueStyleCompiler": "uni-app"
}
```

**é—®é¢˜è¯´æ˜**:

- `compilerVersion` é…ç½®å·²åºŸå¼ƒ
- `nvueStyleCompiler` å·²ç»Ÿä¸€ä¸º "uni-app" æ¨¡å¼

**å®˜æ–¹æ¨è**:

- ç°åœ¨ç»Ÿä¸€ä½¿ç”¨ Vue 3 ç¼–è¯‘å™¨ï¼Œæ— éœ€å•ç‹¬é…ç½® `compilerVersion`
- ç›´æ¥ç§»é™¤è¿™ä¸¤ä¸ªé…ç½®é¡¹å³å¯

**ä¿®æ”¹å»ºè®®**:

```json
"app-plus": {
    "usingComponents": true,
    "splashscreen": { ... }
}
```

**å‚è€ƒæ–‡æ¡£**: https://uniapp.dcloud.net.cn/tutorial/migration-to-vue3.html

---

### 2. Android æƒé™é…ç½®è¿‡æ—¶

**æ–‡ä»¶**: `manifest.json` (ç¬¬ 24-41 è¡Œ)

**é—®é¢˜ä»£ç **:

```json
"permissions": [
    "<uses-permission android:name=\"android.permission.READ_LOGS\"/>",
    "<uses-permission android:name=\"android.permission.GET_ACCOUNTS\"/>",
    "<uses-permission android:name=\"android.permission.MOUNT_UNMOUNT_FILESYSTEMS\"/>"
]
```

**é—®é¢˜è¯´æ˜**:

1. **READ_LOGS** - Android 4.1+ å·²åºŸå¼ƒï¼Œæ™®é€šåº”ç”¨æ— æ³•è·å–ç³»ç»Ÿæ—¥å¿—
2. **GET_ACCOUNTS** - Android 8.0+ éœ€è¦ç‰¹æ®Šæƒé™ï¼Œæ™®é€šåº”ç”¨éš¾ä»¥è·å–
3. **MOUNT_UNMOUNT_FILESYSTEMS** - å·²åºŸå¼ƒï¼Œåº”ä½¿ç”¨ Android åˆ†åŒºå­˜å‚¨

**å®˜æ–¹æ¨è**:

- ç§»é™¤ä¸å¿…è¦çš„æƒé™å£°æ˜
- ä½¿ç”¨ Android Scoped Storage (åˆ†åŒºå­˜å‚¨)
- åªä¿ç•™åº”ç”¨çœŸæ­£éœ€è¦çš„æƒé™

**ä¿®æ”¹å»ºè®®**:

```json
"permissions": [
    "<uses-permission android:name=\"android.permission.INTERNET\"/>",
    "<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/>",
    "<uses-permission android:name=\"android.permission.CAMERA\"/>",
    "<uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/>",
    "<uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/>"
]
```

**å‚è€ƒæ–‡æ¡£**: https://uniapp.dcloud.net.cn/tutorial/app-android-permissions.html

---

## âœ… ä»ç„¶æœ‰æ•ˆçš„å†…å®¹

### 1. Vue 3 é…ç½®

```json
"vueVersion": "3"
```

âœ… é…ç½®æ­£ç¡®ï¼Œç»§ç»­ä½¿ç”¨

### 2. pages.json ç»“æ„

```json
{
    "pages": [...],
    "globalStyle": {...}
}
```

âœ… é…ç½®æ–¹å¼ä»ç„¶æœ‰æ•ˆ

### 3. App.vue ç”Ÿå‘½å‘¨æœŸ

```vue
<script>
export default {
  onLaunch: function () {},
  onShow: function () {},
  onHide: function () {},
};
</script>
```

âœ… åŸºç¡€å†™æ³•ä»ç„¶æœ‰æ•ˆï¼Œä¹Ÿå¯ä»¥å‡çº§ä¸º Composition API

---

## ğŸ’¡ ä¼˜åŒ–å»ºè®®

### å»ºè®®ä½¿ç”¨ Composition API

**å½“å‰å†™æ³•**:

```vue
<script>
export default {
  onLaunch: function () {
    console.log("App Launch");
  },
};
</script>
```

**æ¨èå†™æ³•**:

```vue
<script setup>
import { onLaunch, onShow, onHide } from "@dcloudio/uni-app";

onLaunch(() => {
  console.log("App Launch");
});

onShow(() => {
  console.log("App Show");
});

onHide(() => {
  console.log("App Hide");
});
</script>
```

---

## ğŸ”§ éœ€è¦æ‰§è¡Œçš„æ“ä½œ

### ç«‹å³ä¿®æ”¹ (é«˜ä¼˜å…ˆçº§ âŒ)

1. âŒ ç§»é™¤ `manifest.json` ä¸­çš„ `compilerVersion` é…ç½®
2. âŒ ç§»é™¤ `manifest.json` ä¸­çš„ `nvueStyleCompiler` é…ç½®
3. âŒ æ¸…ç† `manifest.json` ä¸­è¿‡æ—¶çš„ Android æƒé™

### å»ºè®®ä¼˜åŒ– (ä¸­ä¼˜å…ˆçº§ âš ï¸)

1. âš ï¸ è€ƒè™‘å°† App.vue å‡çº§ä¸º Composition API å†™æ³•

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [uni-app å®˜æ–¹æ–‡æ¡£](https://uniapp.dcloud.net.cn/)
- [Vue 3 è¿ç§»æŒ‡å—](https://uniapp.dcloud.net.cn/tutorial/migration-to-vue3.html)
- [manifest.json é…ç½®](https://uniapp.dcloud.net.cn/collocation/manifest.html)
- [Android æƒé™è¯´æ˜](https://uniapp.dcloud.net.cn/tutorial/app-android-permissions.html)

---

**æ£€æŸ¥å®Œæˆ** âœ“
